#!/bin/bash
###############################################################################
# FAROSINT - Script de Control Principal
###############################################################################

case "$1" in
    start)
        echo "ðŸš€ Iniciando FAROSINT Dashboard..."
        systemctl --user start farosint-dashboard 2>/dev/null || \
        /usr/local/bin/farosint-simple
        ;;
    stop)
        echo "â¹ï¸ Deteniendo FAROSINT..."
        pkill -f "python3.*app.py"
        ;;
    status)
        if pgrep -f "python3.*app.py" > /dev/null; then
            echo "âœ“ Dashboard corriendo"
            echo "  PID: $(pgrep -f 'python3.*app.py')"
            echo "  URL: http://localhost:5000"
        else
            echo "âœ— Dashboard detenido"
        fi
        ;;
    simple)
        /usr/local/bin/farosint-simple
        ;;
    cli)
        /usr/local/bin/farosint-cli
        ;;
    update)
        echo "ðŸ”„ Actualizando herramientas..."
        nuclei -update-templates
        echo "âœ“ ActualizaciÃ³n completada"
        ;;
    *)
        echo "FAROSINT - Control Principal"
        echo ""
        echo "Uso: farosint {comando}"
        echo ""
        echo "Comandos:"
        echo "  start   - Iniciar dashboard"
        echo "  stop    - Detener dashboard"
        echo "  status  - Ver estado"
        echo "  simple  - Modo Simple (web)"
        echo "  cli     - Modo CLI (terminal)"
        echo "  update  - Actualizar herramientas"
        echo ""
        exit 1
        ;;
esac
